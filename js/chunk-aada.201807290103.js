(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aada"],{"6ba9":function(e,t,s){"use strict";var n=s("9e7c"),c=s.n(n);c.a},"9e7c":function(e,t,s){},a481:function(e,t,s){s("214f")("replace",2,function(e,t,s){return[function(n,c){"use strict";var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,c):s.call(String(a),n,c)},s]})},ede4:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"login"},[s("div",{staticClass:"box"},[s("div",{staticClass:"input last"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.accessToken,expression:"accessToken",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"50",placeholder:"Access Token"},domProps:{value:e.accessToken},on:{input:function(t){t.target.composing||(e.accessToken=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._m(0),s("div",{staticClass:"submit user-select-none",on:{click:e.login}},[e._v("Sign in")])])])},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"get-access-token"},[s("a",{attrs:{href:"https://cnodejs.org/setting",target:"_blank"}},[e._v("如何获取Access Token？")])])}],a=(s("a481"),s("365c")),o={name:"Login",data:function(){return{accessToken:window.localStorage.save_access_token||""}},beforeRouteEnter:function(e,t,s){s(function(e){e.hasAccessToken()})},methods:{hasAccessToken:function(){this.$store.state.accessToken&&this.$router.replace("/")},login:function(){var e=this;if(!this.accessToken)return this.$Message.warning("Access Token不能为空");axios.post(a["a"].login,{accesstoken:this.accessToken}).then(function(t){t.data.success&&(e.$store.dispatch("login",{accessToken:e.accessToken,userInfo:t.data}),e.$router.replace("/"))}).catch()}}},i=o,r=(s("6ba9"),s("2877")),u=Object(r["a"])(i,n,c,!1,null,null,null);t["default"]=u.exports}}]);